# Arb Validate Web - é¡¹ç›®æ€»æ§è®¡åˆ’ (Master Plan)

> **æ–‡æ¡£å®šä½**ï¼šæœ¬é¡¹ç›®æœ€é«˜ä¼˜å…ˆçº§çš„è¿›åº¦æ§åˆ¶æ–‡ä»¶ã€‚æ‰€æœ‰ä»»åŠ¡å‘å¸ƒå¿…é¡»å¯¹é½å½“å‰é‡Œç¨‹ç¢‘ (Current Focus)ã€‚
> **æ›´æ–°è§„åˆ™**ï¼šä»…è€æ¿åœ¨æ›´æ¢æ–°èŠå¤©çª—å£æ—¶æ˜ç¡®é€šçŸ¥éœ€è¦æ›´æ–° PLAN æ‰æ›´æ–°ï¼ˆè´£ä»»äººï¼šè€æ¿è§¦å‘ -> Trae æ‰§è¡Œï¼‰ã€‚

## 0.x ä»»åŠ¡å¤´éƒ¨æ ¼å¼ (Task Header Contract)

ä¸ºç¡®ä¿è‡ªåŠ¨åŒ–åè®®çš„ä¸¥æ ¼æ‰§è¡Œï¼Œæ‰€æœ‰ä»»åŠ¡å¿…é¡»éµå¾ªä»¥ä¸‹å¤´éƒ¨æ ¼å¼ï¼š

- **é¦–è¡Œçº¦æŸ**ï¼šä»»åŠ¡é¦–ä¸ªéç©ºè¡Œå¿…é¡»æ˜¯ `task_id: <ID>`ã€‚
  - ID æ ¼å¼ï¼š`M<é‡Œç¨‹ç¢‘>_<æè¿°>_<YYMMDD>_<NNN>`
  - ç¤ºä¾‹ï¼š`M1_5_AutoMatch_Candidates0_Diag_FixProxyOrPipeline_260127_067`
  - ç¼–å· `<NNN>`ï¼šé€’å¢ä¸”ä¸å¾—å¤ç”¨ï¼ˆå½“å‰æœ€æ–°ç¼–å·ï¼š**070**ï¼‰ã€‚
- **ç¬¬äºŒè¡Œçº¦æŸ**ï¼šå¿…é¡»æ˜¯ `milestone: Mx <é‡Œç¨‹ç¢‘åˆ†æ”¯æ ‡ç­¾>`ã€‚
  - ç¤ºä¾‹ï¼š`milestone: P0.1 è®¡åˆ’æ²»ç†åˆ†æ”¯(feat/plan-p0-governance)`
  - è¯´æ˜ï¼šé‡Œç¨‹ç¢‘åˆ†æ”¯æ ‡ç­¾ï¼ˆä¸­æ–‡+ä»£å·ï¼‰ç”¨äºæé†’ï¼Œä¸ç­‰åŒäº Git åˆ†æ”¯ã€‚
- **å…¶ä»–çº¦æŸ**ï¼š
  - å»ºè®®ä½¿ç”¨ `task_id:` ä½œä¸ºå”¯ä¸€è§£æä¸»é”®ã€‚
  - å…è®¸å­˜åœ¨ `TraeTask` å­—æ ·ï¼Œä½†ä¸ä½œä¸ºè§£æä¾èµ–ã€‚

**æ ‡å‡†ç¤ºä¾‹**ï¼š
```text
task_id: P0_1_PlanRestructure_Glossary_Dictionary_Governance_260131_070
milestone: P0.1 è®¡åˆ’æ²»ç†åˆ†æ”¯(feat/plan-p0-governance)
```

## 1. æ ¸å¿ƒæ„¿æ™¯ (Core Vision)
æ„å»ºä¸€ä¸ª**è¿æ¥å¤šå¹³å°ï¼ˆPolymarket/Kalshiï¼‰å¸‚åœºæ•°æ®ä¸äº¤æ˜“èƒ½åŠ›**çš„å¥—åˆ©ç»ˆç«¯ã€‚
- **æ ¸å¿ƒé—­ç¯**ï¼šPair -> Scan -> Opportunity -> Trade -> Reviewã€‚
- **æŠ€æœ¯åº•åº§**ï¼šNext.js 16 + Node.js (å…¨å¼‚æ­¥) + è‡ªåŠ¨åŒ–å·¥ä½œæµ (Workflow v3.9)ã€‚

---

## 2. æ€»ä½“è·¯çº¿å›¾ (Roadmap & Milestones)

### ğŸ“‹ P0: æµç¨‹ä¸éªŒæ”¶æœºåˆ¶è°ƒæ•´ (Process Governance)
- **P0.1 é—¨ç¦åˆ†å±‚ä¸æ–‡æ¡£æ²»ç†**:
  - [x] **Plan Restructure**: é‡æ„é‡Œç¨‹ç¢‘ç»“æ„ï¼Œå¼•å…¥ P0 å±‚çº§ä¸ Open Branches è¡¨ã€‚
  - [x] **Doc Governance**: ä¸‰å¤§æ–‡æ¡£ç˜¦èº«ï¼Œå»ºç«‹ Glossary ä¸ Data Dictionaryã€‚
  - [x] **Gate Enforcement**: gate-light æ–°å¢å­—å…¸åŒæ­¥æ£€æŸ¥ã€‚
- **P0.2 è´¨é‡è¡¥é½åˆ†æ”¯(plan-quality-gaps)**: è®¾è®¡é—¸é—¨ (Design Note)
  - [ ] **Design Gate**: ä»»åŠ¡æ¨¡æ¿æ–°å¢ Design Note å­—æ®µï¼ˆç›®æ ‡/æ”¹åŠ¨/å½±å“/é£é™©/éªŒæ”¶/å›æ»šï¼‰ï¼Œå¹¶åœ¨ PLAN è¯´æ˜å¿…å¡«åœºæ™¯ã€‚
  - [ ] **DoD**: æ–°å¢æ¡æ¬¾å¯è¢«æ‰§è¡Œä¸”ä¸å†²çªã€‚
- **P0.3 æµ‹è¯•æŠ¤æ åˆ†æ”¯(plan-test-matrix)**: æµ‹è¯•ä½“ç³»æœ€å°é›†
  - [ ] **Test Matrix**: å®šä¹‰â€œå†’çƒŸæµ‹è¯• 1 æ¡ + å›å½’æœ€å°é›†â€çš„èŒƒå›´ä¸è§¦å‘è§„åˆ™ã€‚
- **P0.4 å‘å¸ƒå›æ»šåˆ†æ”¯(plan-release-rollback)**: ç¯å¢ƒä¸å›æ»šæ‰‹å†Œ
  - [ ] **Rollback**: æ˜ç¡® staging/prod åŒºåˆ†ä¸å›æ»šè·¯å¾„ï¼ˆTag/Commit æ“ä½œå£å¾„ï¼‰ã€‚
- **P0.5 æ•°æ®å›æ”¾åˆ†æ”¯(plan-data-replay)**: å¿«ç…§ä¸å¯é‡æ”¾
  - [ ] **Replayability**: è§„å®š Scan/Opportunity æœ€å°å¿«ç…§è½åœ°è¦æ±‚åŠâ€œå¯é‡æ”¾ä¸€è‡´â€éªŒæ”¶å£å¾„ã€‚
- **P0.6 å®‰å…¨æƒé™åˆ†æ”¯(plan-security-boundary)**: å¯†é’¥ä¸æƒé™è¾¹ç•Œ
  - [ ] **Security**: å»ºç«‹å¯†é’¥æ¸…å•ã€æœ€å°æƒé™ä¸æ—¥å¿—è„±æ•è§„åˆ™ã€‚

### âœ… M0: åŸºç¡€è®¾æ–½ä¸è‡ªåŠ¨åŒ–é—­ç¯ (Completed)
- **M0.1 åŸºç¡€å·¥ä½œæµ**:
  - [x] **Workflow v3.8**: å»ºç«‹ ChatGPT -> Trae -> Finalizer çš„ä¸¥æ ¼è‡ªåŠ¨åŒ–åè®®ã€‚
  - [x] **Task Manager**: å®ç°ä»»åŠ¡åˆ†å‘ã€ç»“æœå›ä¼ ã€é˜²å‡æœºåˆ¶ã€‚
  - [x] **Bridge**: è¿é€šæœ¬åœ°æ–‡ä»¶ç³»ç»Ÿã€‚

### ğŸ”„ M1: åŸºç¡€æ•°æ®ä¸éªŒè¯ä½“ç³» (Current Focus)
- **M1.1 å½±å­æ¨¡å¼**:
  - [x] **Shadow Mode**: å»ºç«‹å½±å­éªŒè¯æœºåˆ¶ã€‚
  - [x] **Healthcheck**: ç½‘ç«™åŸºç¡€å¥åº·æ£€æŸ¥è„šæœ¬ã€‚
- **M1.5 ä»ªè¡¨ç›˜é‡æ„**:
  - [ ] **UI Alignment**: ç¡®ä¿ Dashboard / Pairs / Opportunities é¡µé¢é€»è¾‘ä¸ `PROJECT_RULES` å®šä¹‰ä¸€è‡´ã€‚
  - [ ] **Verification Viz**: å®ç° Pairs çš„å¢é‡/å…¨é‡éªŒè¯çŠ¶æ€å¯è§†åŒ– (VERIFIED/UNVERIFIED)ã€‚
  - [ ] **Stream Viz**: å®ç° Auto-match å®æ—¶æµçš„ç¨³å®šå±•ç¤ºã€‚
- **M1.6 å¥—åˆ©æœºä¼šé¡µé¢é€»è¾‘ä¸éªŒè¯**:
  - [ ] **Logic**: æ•´ç† Opportunities é¡µé¢åŠŸèƒ½é€»è¾‘ã€‚
  - [ ] **Verification**: éªŒè¯åŸºç¡€åŠŸèƒ½ä¸æ•°æ®å‡†ç¡®æ€§ã€‚

### ğŸ“… M2: Pair æ ¸å¿ƒåŠŸèƒ½ (å« AutoMatch çš„å¯ç”¨æ€§)
- **M2.1 è‡ªåŠ¨åŒ¹é…å¯ç”¨æ€§**:
  - [ ] **AutoMatch Usability**: ç¡®ä¿è‡ªåŠ¨åŒ¹é…æµç¨‹çš„ç¨³å®šæ€§ä¸å‡†ç¡®æ€§ (Candidate Fetch -> Fuzzy Match -> Verification)ã€‚
- **M2.2 Pair ç®¡ç†**:
  - [ ] **Lifecycle**: å®Œå–„ Pair çš„ç”Ÿå‘½å‘¨æœŸç®¡ç† (Verified/Unverified/Blacklisted)ã€‚
- **M2.3 æ•°æ®å¯¹é½**:
  - [ ] **Data Alignment**: è§£å†³ PM ä¸ Kalshi ä¹‹é—´çš„æ•°æ®æ˜ å°„ä¸å¯¹é½é—®é¢˜ã€‚

### ğŸ“… M3: æœºä¼šæ‰«æ (Opportunity Scan)
- **M3.1 æ‰«æå¼•æ“**:
  - [ ] **Scan Engine**: å®ç°é«˜é¢‘/ä½é¢‘æ‰«æç­–ç•¥ã€‚
- **M3.2 è¿‡æ»¤ä¸é€šçŸ¥**:
  - [ ] **Filters**: å®ç°åŸºäº Spread/Size/Risk çš„è¿‡æ»¤é€»è¾‘ã€‚
  - [ ] **Notification**: å‘ç°æœºä¼šåçš„å®æ—¶é€šçŸ¥æœºåˆ¶ã€‚

### ğŸ“… M4: è™šæ‹Ÿäº¤æ˜“ (Paper Tradingï¼Œç¬¬ä¸€é˜¶æ®µç»“æŸç‚¹)
- **M4.1 æ¨¡æ‹Ÿæ‰§è¡Œ**:
  - [ ] **Paper Execution**: æ¨¡æ‹Ÿä¸‹å•ä¸æˆäº¤é€»è¾‘ã€‚
  - [ ] **P&L Tracking**: æ¨¡æ‹Ÿè´¦æˆ·çš„ç›ˆäºç»Ÿè®¡ã€‚
- **M4.2 é˜¶æ®µéªŒæ”¶**:
  - [ ] **Phase 1 Review**: ç¬¬ä¸€é˜¶æ®µé—­ç¯éªŒæ”¶ã€‚

> **ç¬¬äºŒé˜¶æ®µè¾¹ç•Œè¯´æ˜**ï¼šM4 æ ‡å¿—ç€â€œç¬¬ä¸€é˜¶æ®µâ€çš„ç»“æŸã€‚æ­¤åè¿›å…¥â€œç¬¬äºŒé˜¶æ®µï¼šå®ç›˜äº¤æ˜“å¯¹æ¥â€ã€‚

### ğŸ“… M5: ç”Ÿäº§çº§ç¨³å®šæ€§ (Production Ready)
- **M5.1 è¿ç»´å¢å¼º**:
  - [ ] **Backup & Rollback**: ç‰ˆæœ¬å¿«ç…§ä¸ä¸€é”®å›æ»šã€‚
  - [ ] **Alert System**: é£ä¹¦/Telegram æŠ¥è­¦é›†æˆã€‚
  - [ ] **Performance**: æ”¯æ’‘ 1000+ Pairs çš„ç§’çº§æ‰«æã€‚

---

## 3. Open Branches (æœªå…³é—­é‡Œç¨‹ç¢‘åˆ†æ”¯)

| milestone_branch_tag | milestone | last_task_id | last_update | status | last_summary | next_action |
| :--- | :--- | :--- | :--- | :--- | :--- | :--- |
| è®¡åˆ’æ²»ç†åˆ†æ”¯(feat/plan-p0-governance) | P0.1 | 070 | 2026-01-31 | DOING | Plané‡æ„ä¸å­—å…¸æ²»ç†ä¸­ | å®Œæˆè„šæœ¬ä¸æäº¤ |
| è´¨é‡è¡¥é½åˆ†æ”¯(feat/plan-quality-gaps) | P0.2 | 071 | 2026-01-31 | DOING | å†™å…¥è–„å¼±ç¯èŠ‚Backlog | æäº¤PR |
| æµ‹è¯•æŠ¤æ åˆ†æ”¯(feat/plan-test-matrix) | P0.3 | - | - | TODO | - | - |
| å‘å¸ƒå›æ»šåˆ†æ”¯(feat/plan-release-rollback) | P0.4 | - | - | TODO | - | - |
| æ•°æ®å›æ”¾åˆ†æ”¯(feat/plan-data-replay) | P0.5 | - | - | TODO | - | - |
| å®‰å…¨æƒé™åˆ†æ”¯(feat/plan-security-boundary) | P0.6 | - | - | TODO | - | - |
| é—¨ç¦åˆ†æ”¯(feat/gates-unify-073) | M0.1 | 073 | 2026-01-30 | DOING | Gate-light ä¿®å¤ä¸­ | ç­‰å¾… PR åˆå¹¶ |

---

## 4. å½“å‰å¼€å‘ç„¦ç‚¹ (Current Development Focus)

**ğŸ“ å½“å‰çŠ¶æ€**: `P0.1 - é—¨ç¦åˆ†å±‚ä¸æ–‡æ¡£æ²»ç†` (æ’é˜Ÿä»»åŠ¡)

**å¾…åŠä»»åŠ¡ (Next Steps)**:
1. **Task 070 (Doing)**: P0.1 Plané‡æ„ + å­—å…¸æ²»ç† + Gate-light å¼ºåˆ¶æ£€æŸ¥ã€‚
2. **Task 073 (Doing)**: ä¿®å¤ gate-light PR check å¼‚å¸¸ã€‚
3. **Task 030+ (Backlog)**: ç»§ç»­ M1.5/M1.6 å‰©ä½™ UI ä»»åŠ¡ã€‚

**éªŒæ”¶æ ‡å‡† (DoD)**:
- ä»»åŠ¡å¿…é¡»åŒ…å« `manual_verification.json`ã€‚
- ç½‘ç«™å¥åº·æ£€æŸ¥ (ç«¯å£ 53121) å¿…é¡»é€šè¿‡ã€‚
- æ—  `next lint` é”™è¯¯ã€‚
- ä»¥ä¸Šå…¨éƒ¨æ»¡è¶³åï¼Œéœ€è€æ¿åœ¨å¯¹è¯ä¸­æ˜ç¡®å›å¤ï¼šéªŒæ”¶é€šè¿‡ã€‚

---

## 5. éœ€æ±‚æ±  (Backlog)
- [ ] **UI**: å¢åŠ  Dark Mode åˆ‡æ¢ã€‚
- [ ] **DX**: å¼•å…¥ Storybook ç®¡ç† UI ç»„ä»¶ã€‚
- [ ] **Perf**: ä¼˜åŒ– Prisma æŸ¥è¯¢æ€§èƒ½ (æ·»åŠ ç´¢å¼•)ã€‚
- [ ] **Data**: æ”¯æŒ Kalshi å¸‚åœºæ•°æ®æ¥å…¥ã€‚
- [ ] **Optional Extensions**:
    - **Queue & Replay**: æ¨¡æ‹ŸçœŸå®æˆäº¤é˜Ÿåˆ—å»¶è¿Ÿä¸æ»‘ç‚¹ã€å†å²æ•°æ®å›æ”¾ã€‚
    - **Confidence Arbitrage**: æ¥å…¥èµŒåœºèµ”ç‡/å¤–éƒ¨é¢„è¨€æœºä½œä¸º Truthã€‚

---

## 6. ç»éªŒæ•™è®­åº“ (Knowledge Base)
- **Protocol**: å¿…é¡»æ˜¾å¼è¾“å‡º `notify` æ–‡ä»¶å†…å®¹ï¼Œç¦æ­¢åªç»™è·¯å¾„ã€‚
- **Finalizer**: ç¦æ­¢ç”¨ SELF_REF ä¼ªé€ äº§ç‰©å­˜åœ¨/å†…å®¹ï¼›SELF_REF ä»…å…è®¸ä½œä¸º deliverables_index çš„ sha256_short ç‰¹æ®Šå€¼ã€‚
- **Network**: Node.js fetch åœ¨ä»£ç†ç¯å¢ƒä¸‹å¿…é¡»ç‰¹æ®Šå¤„ç† localhostã€‚
